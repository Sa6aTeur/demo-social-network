(this.webpackJsonpsamurai_way=this.webpackJsonpsamurai_way||[]).push([[0],{118:function(e,t,n){e.exports={formControl:"FormControls_formControl__3E5O0",error:"FormControls_error__1nWQP",formSummaryError:"FormControls_formSummaryError__fFA4i",rememberMe:"FormControls_rememberMe__1sWHO"}},173:function(e,t,n){e.exports={overlay:"Preloader_overlay__sxULL",preloader:"Preloader_preloader__9r3nN",preloader__image_animate:"Preloader_preloader__image_animate__3gSDa"}},176:function(e,t,n){e.exports={topImage:"ProfileInfo_topImage__24OjZ",descriptionBlock:"ProfileInfo_descriptionBlock__3ooU8",userImg:"ProfileInfo_userImg__340pV",contact:"ProfileInfo_contact__JhiLY"}},204:function(e,t,n){e.exports={content:"MyPosts_content__2wELq",postBlock:"MyPosts_postBlock__3dBuz",submitButton:"MyPosts_submitButton__1Nl6B"}},207:function(e,t,n){e.exports={statusWrap:"ProfileStatus_statusWrap__28lUq",status:"ProfileStatus_status__32Mne"}},221:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(77),a=n(6),c={dialogs:[{id:1,name:"Vitya"},{id:2,name:"Vika"},{id:3,name:"Viktot"},{id:4,name:"Vasya"},{id:5,name:"Vanya"},{id:6,name:"Vova"}],messages:[{message:"Hi"},{message:"Priv"},{message:"kak dela"},{message:"norm"},{message:"toje"},{message:"poka"}]},s={sendMessage:function(e){return{type:"SN/DIALOGS/SEND_MESSAGE",newMessageText:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/DIALOGS/SEND_MESSAGE":return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{message:t.newMessageText}])});default:return e}}},267:function(e,t,n){"use strict";n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return k})),n.d(t,"b",(function(){return I}));var r=n(21),a=n.n(r),c=n(39),s=n(77),i=n(6),o={"message-received":[],"status-changed":[]},u=null,l=function(){O("pending"),setTimeout((function(){console.log("RESTART PAGE"),p()}),2500)},d=function(e){var t=JSON.parse(e.data);o["message-received"].forEach((function(e){return e(t)}))},j=function(){O("ready")},f=function(){O("error"),console.log("RESTART PAGE")},b=function(){var e,t,n,r;null===(e=u)||void 0===e||e.removeEventListener("message",d),null===(t=u)||void 0===t||t.removeEventListener("close",l),null===(n=u)||void 0===n||n.removeEventListener("open",j),null===(r=u)||void 0===r||r.removeEventListener("error",f)},O=function(e){o["status-changed"].forEach((function(t){return t(e)}))};function p(){var e;b(),null===(e=u)||void 0===e||e.close(),u=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),O("pending"),u.addEventListener("close",l),u.addEventListener("message",d),u.addEventListener("open",j),u.addEventListener("error",f)}var h=function(){p()},m=function(){var e;o["message-received"]=[],o["status-changed"]=[],b(),null===(e=u)||void 0===e||e.close()},x=function(e,t){return o[e].push(t),function(){o[e]=o[e].filter((function(e){return e!==t}))}},S=function(e,t){o[e]=o[e].filter((function(e){return e!==t}))},g=function(e){var t;null===(t=u)||void 0===t||t.send(e)},v=n(552),_={messages:[],wsStatus:"pending"},E=function(e){return{type:"SN/CHAT/SET_MESSAGES",payload:{messages:e}}},y=function(e){return{type:"SN/CHAT/WS_STATUS_CHANGED",payload:{status:e}}},P=null,w=function(e){return null===P&&(P=function(t){e(E(t))}),P},N=null,T=function(e){return null===N&&(N=function(t){e(y(t)),console.log(t)}),N},C=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(),x("message-received",w(t)),x("status-changed",T(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S("message-received",w(t)),S("status-changed",T(t)),m();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/CHAT/SET_MESSAGES":return Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),Object(s.a)(t.payload.messages.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{id:Object(v.a)()})})))).filter((function(e,t,n){return t>=n.length-100}))});case"SN/CHAT/WS_STATUS_CHANGED":return Object(i.a)(Object(i.a)({},e),{},{wsStatus:t.payload.status});default:return e}}},287:function(e,t,n){e.exports={item:"Post_item__hs_ML",likeCount:"Post_likeCount__3JT-X"}},288:function(e,t,n){e.exports={header:"header_header__29HNV",loginBlock:"header_loginBlock__1QTRy"}},404:function(e,t,n){},405:function(e,t,n){},41:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return j}));var r=n(6),a=n(209),c=(n(0),n(196)),s=n(118),i=n.n(s),o=n(1),u=function(e){var t=e.meta,n=t.touched,r=t.error,a=e.children,c=n&&r;return Object(o.jsxs)("div",{className:i.a.formControl+" "+(c&&i.a.error),children:[a,Object(o.jsx)("div",{children:c&&Object(o.jsx)("span",{children:r})})]})},l=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return Object(o.jsx)(u,Object(r.a)(Object(r.a)({},e),{},{children:Object(o.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},d=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return Object(o.jsx)(u,Object(r.a)(Object(r.a)({},e),{},{children:Object(o.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(o.jsxs)("div",{children:[Object(o.jsx)(c.a,Object(r.a)({placeholder:e,name:t,component:a,validate:n},s))," ",Object(o.jsx)("span",{children:i})]})}t.d=l},538:function(e,t,n){"use strict";n.r(t);var r,a=n(27),c=n(21),s=n.n(c),i=n(39),o=n(77),u=n(6),l=n(268),d=n.n(l).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"714b8137-f2f2-4250-bf46-908d801783b7"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={}));var j=n(90),f=function(){return d.get("auth/me").then((function(e){return e.data}))},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},O=function(){return d.delete("auth/login")},p=function(e){return d.get("profile/"+e).then((function(e){return e.data}))},h=function(e){return d.get("profile/status/"+e).then((function(e){return e.data}))},m=function(e){return d.put("profile/status",{status:e}).then((function(e){return e.data}))},x=function(e){var t=new FormData;return t.append("image",e),d.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},S=function(e){return d.put("profile",e).then((function(e){return e.data}))},g={isFetching:!1,userId:null,email:null,login:null,isAuth:!1,photos:{}},v=function(e,t,n,r){return{type:"SN/AUTH/SET_AUTH_USER",payload:{userId:e,email:t,login:n,isAuth:r}}},_=function(e){return{type:"SN/AUTH/SET_AUTH_USER_PHOTO",payload:{photos:e}}},E=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,c,i,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:if((n=e.sent).resultCode!==r.Success){e.next=11;break}return a=n.data,c=a.id,i=a.login,o=a.email,!0,t(v(c,o,i,true)),e.next=9,p(c);case 9:u=e.sent.photos,t(_(u));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/AUTH/SET_AUTH_USER":return Object(u.a)(Object(u.a)({},e),t.payload);case"SN/AUTH/SET_AUTH_USER_PHOTO":return Object(u.a)(Object(u.a)({},e),{},{photos:t.payload.photos});default:return e}},P={posts:[],profile:null,status:"",newPostText:""},w={addPost:function(e){return{type:"SN/PROFILE/ADD_POST",postText:e}},setUserProfile:function(e){return{type:"SN/PROFILE/SET_USER_PROFILE",profile:e}},setUserStatus:function(e){return{type:"SN/PROFILE/SET_USER_STATUS",status:e}},savePhotoSuccess:function(e){return{type:"SN/PROFILE/SAVE_PHOTO_SUCCESS",photos:e}},saveProfileSuccess:function(e){return{type:"SN/PROFILE/SAVE_PROFILE_SUCCESS",profile:e}}},N=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:r=t.sent,n(w.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:0===t.sent.resultCode&&n(w.setUserStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n,r){var a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:if(a=t.sent,c=r().auth.userId,0!==a.resultCode){t.next=12;break}if(n(w.savePhotoSuccess(a.data)),n(E()),null==c){t.next=11;break}n(N(c)),t.next=12;break;case 11:throw new Error("userId can be null");case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n,r){var a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:if(a=t.sent,c=r().auth.userId,0!==a.resultCode){t.next=10;break}if(null==c){t.next=9;break}n(N(c)),t.next=10;break;case 9:throw new Error("userId can be null");case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/PROFILE/ADD_POST":var n={id:5,message:t.postText,likesCount:0};return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(o.a)(e.posts),[n])});case"SN/PROFILE/SET_USER_PROFILE":return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case"SN/PROFILE/SET_USER_STATUS":return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case"SN/PROFILE/SAVE_PHOTO_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{photos:t.photos})});case"SN/PROFILE/SAVE_PROFILE_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),t.profile)});default:return e}},U=n(221),A=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(u.a)(Object(u.a)({},e),r):e}))},L={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2?arguments[2]:void 0;return d.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n.term)+(null===n.term?"":"&friend=".concat(n.friend))).then((function(e){return e.data}))},follow:function(e){return d.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return d.delete("follow/".concat(e)).then((function(e){return e.data}))}},R={users:[],totalUsersCount:30,pageSize:4,currentPage:1,isFetching:!0,followingInProgress:[],filter:{term:"",friend:null}},F=function(e){return{type:"SN/USERS/FOLLOW",userId:e}},M=function(e){return{type:"SN/USERS/UNFOLLOW",userId:e}},G=function(e){return{type:"SN/USERS/SET_USERS",users:e}},H=function(e){return{type:"SN/USERS/SET_CURRENT_PAGE",currentPage:e}},W=function(e){return{type:"SN/USERS/SET_FILTER",payload:e}},D=function(e){return{type:"SN/USERS/SET_TOTAL_COUNT",totalCount:e}},B=function(e){return{type:"SN/USERS/TOGGLE_IS_FETCHING",isFetching:e}},V=function(e,t){return{type:"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},z=function(e,t,n){return function(){var r=Object(i.a)(s.a.mark((function r(a){var c;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(B(!0)),a(H(e)),a(W(n)),r.next=5,L.getUsers(e,t,n);case 5:c=r.sent,a(B(!1)),a(G(c.items)),a(D(c.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},Y=function(){var e=Object(i.a)(s.a.mark((function e(t,n,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(V(!0,n)),e.next=4,r(n);case 4:0===e.sent.resultCode&&t(a(n)),t(V(!1,n));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/FOLLOW":return Object(u.a)(Object(u.a)({},e),{},{users:A(e.users,t.userId,"id",{followed:!0})});case"SN/USERS/UNFOLLOW":return Object(u.a)(Object(u.a)({},e),{},{users:A(e.users,t.userId,"id",{followed:!1})});case"SN/USERS/SET_USERS":return Object(u.a)(Object(u.a)({},e),{},{users:t.users});case"SN/USERS/SET_CURRENT_PAGE":return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case"SN/USERS/SET_FILTER":return Object(u.a)(Object(u.a)({},e),{},{filter:t.payload});case"SN/USERS/SET_TOTAL_COUNT":return Object(u.a)(Object(u.a)({},e),{},{totalUsersCount:t.totalCount});case"SN/USERS/TOGGLE_IS_FETCHING":return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFetching});case"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(u.a)(Object(u.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(o.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Z=n(269),q=n(266),K={initialazed:!1},X=function(){return{type:"SN/APP/INITIALAZED_SUCCESS"}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/APP/INITIALAZED_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{initialazed:!0});default:return e}},$=n(267),ee=Object(a.c)({profilePage:I,dialogsPage:U.b,usersPage:J,auth:y,form:q.a,app:Q,chat:$.a}),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,ne=Object(a.e)(ee,te(Object(a.a)(Z.a))),re=n(13),ae=n(0),ce=n.n(ae),se=n(32),ie=n.n(se),oe=(n(404),n(149)),ue=n(150),le=n(171),de=n(168),je=n(17),fe=(n(405),n(406),n(69)),be=n.p+"static/media/Preloader.aa9db3e3.png",Oe=n(173),pe=n.n(Oe),he=n(1),me=function(){return Object(he.jsx)("div",{className:pe.a.overlay,children:Object(he.jsx)("div",{className:pe.a.preloader,children:Object(he.jsx)("img",{src:be,className:pe.a.preloader__image_animate})})})},xe=n(96),Se=n(550),ge=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,a=e.onCurrentPageChanged,c=Math.ceil(t/n),s=[],i=1;i<=c;i++)s.push(i);var o=Object(ae.useState)(1),u=Object(xe.a)(o,2),l=u[0],d=u[1];return Object(he.jsx)("div",{children:Object(he.jsxs)("div",{children:[l>1&&Object(he.jsx)("button",{onClick:function(){d(l-1)},children:"PREV"}),Object(he.jsx)(Se.a,{current:r,onChange:function(e){return a(e)},showSizeChanger:!1,total:c})]})})},ve=n(89),_e=n.n(ve),Ee=n.p+"static/media/userImg.1ab4050b.jpg",ye=n(544),Pe=n(545),we=n(292),Ne=function(e){return e.usersPage.users},Te=function(e){return e.usersPage.pageSize},Ce=function(e){return e.usersPage.totalUsersCount},ke=function(e){return e.usersPage.currentPage},Ie=function(e){return e.usersPage.isFetching},Ue=function(e){return e.usersPage.followingInProgress},Ae=function(e){return e.usersPage.filter},Le=n(109),Re=n.n(Le),Fe=function(e){var t=e.user,n=Object(re.d)(Ie),r=Object(re.d)(Ue),a=Object(re.c)(),c=function(e){a(function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(n,e,L.follow.bind(L),F);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},o=function(e){a(function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(n,e,L.unfollow.bind(L),M);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(he.jsx)("div",{className:_e.a.mainWrap,children:Object(he.jsxs)(ye.a,{children:[Object(he.jsxs)(Pe.a,{className:_e.a.avatarWrap,children:[Object(he.jsx)("div",{children:Object(he.jsx)(fe.c,{to:"/profile/"+t.id,children:Object(he.jsx)(Re.a,{className:_e.a.avatar,shape:"square",size:80,src:null!=t.photos.small?t.photos.small:Ee})})}),t.followed?n||Object(he.jsx)(we.a,{className:_e.a.button,loading:r.some((function(e){return e===t.id})),size:"small",type:"primary",disabled:r.some((function(e){return e===t.id})),onClick:function(){o(t.id)},children:"UNFOLLOW"}):n||Object(he.jsx)(we.a,{className:_e.a.button,loading:r.some((function(e){return e===t.id})),size:"small",type:"primary",disabled:r.some((function(e){return e===t.id})),onClick:function(){c(t.id)},children:"FOLLOW"})]}),Object(he.jsx)(Pe.a,{children:Object(he.jsxs)(fe.c,{to:"/profile/"+t.id,children:[Object(he.jsx)("div",{children:Object(he.jsxs)("p",{className:_e.a.name,children:[" ",t.name," "]})}),Object(he.jsx)("p",{className:_e.a.status,style:{fontWeight:"bold",color:"gray"},children:t.status})]})})]})},t.id)},Me=n(61),Ge=n(174),He=n(551),We=n(546),De=n(547),Be=function(e){return e.term&&/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.term),{}},Ve=ce.a.memo((function(e){var t=Object(re.d)(Ae);return Object(he.jsx)("div",{children:Object(he.jsx)("div",{children:Object(he.jsx)(Me.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:Be,onSubmit:function(t,n){var r=n.setSubmitting,a={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(a),r(!1)},children:function(e){var t=e.isSubmitting;return Object(he.jsx)(He.a,{children:Object(he.jsxs)(ye.a,{children:[Object(he.jsx)(Pe.a,{span:12,children:Object(he.jsx)(We.a,{type:"text",name:"term",placeholder:"Here you can find users"})}),Object(he.jsxs)(Pe.a,{span:12,children:[Object(he.jsxs)(De.a,{name:"friend",defaultValue:"null",style:{width:120},children:[Object(he.jsx)(Ge.Option,{value:"null",children:"All"}),Object(he.jsx)(Ge.Option,{value:"true",children:"Only Friends"}),Object(he.jsx)(Ge.Option,{value:"false",children:"Only Unfollowed"})]}),Object(he.jsx)(we.a,{disabled:t,htmlType:"submit",type:"primary",children:"Find"})]})]})})}})})})})),ze=n(202),Ye=function(e){var t=Object(re.d)(Ce),n=Object(re.d)(ke),r=Object(re.d)(Ie),a=Object(re.d)(Te),c=Object(re.d)(Ae),s=Object(re.d)(Ne),i=Object(re.c)(),o=Object(je.f)();return Object(ae.useEffect)((function(){var e=ze.parse(o.location.search.substr(1)),t=n,r=c;switch(e.page&&(t=Number(e.page)),e.term&&(r=Object(u.a)(Object(u.a)({},r),{},{term:e.term})),e.friend){case"null":r=Object(u.a)(Object(u.a)({},r),{},{friend:null});break;case"true":r=Object(u.a)(Object(u.a)({},r),{},{friend:!0});break;case"false":r=Object(u.a)(Object(u.a)({},r),{},{friend:!1})}i(z(t,a,r))}),[]),Object(ae.useEffect)((function(){var e={};c.term&&(e.term=c.term),null!==c.friend&&(e.friend=String(c.friend)),1!==n&&(e.page=String(n)),o.push({pathname:"/users",search:ze.stringify(e)})}),[c,n]),Object(he.jsxs)("div",{children:[Object(he.jsxs)("div",{children:[r?Object(he.jsx)(me,{}):null," "]}),Object(he.jsx)(Ve,{onFilterChanged:function(e){i(z(1,a,e))}}),s.map((function(e){return Object(he.jsx)(Fe,{user:e},e.id)})),Object(he.jsx)("div",{style:{paddingTop:"10px",textAlign:"center"},children:Object(he.jsx)(ge,{currentPage:n,onCurrentPageChanged:function(e){i(z(e,a,c))},totalItemsCount:t,pageSize:a})})]})},Je=n(287),Ze=n.n(Je),qe=n(548),Ke=n(170),Xe=n(203),Qe=n.n(Xe),$e=function(e){var t=Object(re.d)((function(e){return e.auth.photos.large})),n=Object(re.d)((function(e){return e.auth.login}));return Object(he.jsx)("div",{className:Ze.a.item,children:Object(he.jsx)(qe.a,{author:Object(he.jsx)("a",{style:{color:"black",fontWeight:"bold"},children:n}),avatar:Object(he.jsx)(Re.a,{src:null===t?Ee:t,alt:null===n?" ":n}),content:Object(he.jsx)("p",{style:{color:"black"},children:e.message}),datetime:Object(he.jsx)(Ke.a,{title:Qe()().format("YYYY-MM-DD HH:mm:ss"),children:Object(he.jsx)("span",{style:{color:"black"},children:Qe()().fromNow()})})})})},et=n(204),tt=n.n(et),nt=n(265),rt=n(76),at=n(41),ct=Object(rt.a)(25),st=Object(nt.a)({form:"addPost"})((function(e){return Object(he.jsxs)("form",{children:[Object(at.c)("Your Post","postText",[ct],at.b),Object(he.jsx)(we.a,{onClick:e.handleSubmit,type:"primary",className:tt.a.submitButton,children:"Add post"})]})})),it=function(){var e=Object(re.d)((function(e){return e.profilePage.posts})).map((function(e,t){return Object(he.jsx)($e,{message:e.message,likesCount:e.likesCount},t)})),t=Object(re.c)();return Object(he.jsxs)("div",{className:tt.a.postBlock,children:[Object(he.jsx)("h3",{children:"MY POSTS"}),Object(he.jsx)(st,{onSubmit:function(e){t(w.addPost(e.postText))}}),Object(he.jsx)("div",{children:e})]})},ot=n(176),ut=n.n(ot),lt=n(210),dt=n(207),jt=n.n(dt),ft=function(e){var t=Object(ae.useState)(!1),n=Object(xe.a)(t,2),r=n[0],a=n[1],c=Object(ae.useState)(e.status),s=Object(xe.a)(c,2),i=s[0],o=s[1];Object(ae.useEffect)((function(){o(e.status)}),[e.status]);return Object(he.jsxs)(Pe.a,{span:6,children:[!r&&Object(he.jsx)("div",{className:jt.a.statusWrap,style:{marginTop:"5px",marginBottom:"5px"},children:Object(he.jsx)("span",{className:jt.a.status,onClick:function(){e.isOwner&&a(!0)},children:i||"..."})}),r&&Object(he.jsx)("div",{children:Object(he.jsx)(lt.a,{maxLength:20,style:{marginBottom:"5px",marginTop:"5px"},onChange:function(e){o(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),e.updateUserStatus(i)},value:i})})]})},bt=Object(nt.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=Object(re.c)();return Object(he.jsxs)("form",{onSubmit:t,children:[Object(he.jsx)("div",{children:Object(he.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&n(C(e.target.files[0]))}})}),Object(he.jsxs)("div",{children:[Object(he.jsx)("b",{children:"Full name: "})," ",Object(at.c)("Full name","fullName",[rt.b],at.a)]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("b",{children:"Looking for a job: "}),Object(at.c)("","lookingForAJob",[],at.a,{type:"checkbox"})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("b",{children:"About me: "}),Object(at.c)("About me","aboutMe",[rt.b],at.d)]}),Object(he.jsx)("div",{children:Object(he.jsx)(we.a,{onClick:t,children:"SAVE"})})]})})),Ot=function(e){var t=e.contactTitle,n=e.contactValue;return Object(he.jsxs)("div",{className:ut.a.contact,children:[Object(he.jsxs)("b",{children:[t,": "]})," ",n]})},pt=function(e){var t=e.profile,n=e.isOwner,r=e.toEditMode;return Object(he.jsxs)("div",{children:[Object(he.jsxs)("div",{children:[Object(he.jsx)("b",{children:"Full name: "}),t.fullName?t.fullName:" ---"]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("b",{children:"Looking for a job: "}),t.lookingForAJob?"yes":"no"]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("b",{children:"About me: "}),t.aboutMe?t.aboutMe:"---"]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("b",{children:"Contacts: "}),Object.keys(t.contacts).map((function(e){return Object(he.jsx)(Ot,{contactTitle:e,contactValue:t.contacts[e]},e)})),n&&Object(he.jsx)("div",{children:Object(he.jsx)(we.a,{type:"primary",onClick:r,children:"Edit"})})]})]})},ht=function(e){var t=Object(ae.useState)(!1),n=Object(xe.a)(t,2),r=n[0],a=n[1],c=Object(re.c)(),s=Object(re.d)((function(e){return e.profilePage.profile})),i=Object(re.d)((function(e){return e.profilePage.status}));if(!s)return Object(he.jsx)(me,{});return Object(he.jsx)("div",{children:Object(he.jsxs)("div",{className:ut.a.descriptionBlock,children:[Object(he.jsx)("img",{className:ut.a.userImg,src:s.photos.large||Ee}),Object(he.jsx)(ft,{isOwner:e.isOwner,status:i,updateUserStatus:function(e){c(T)}}),r?Object(he.jsx)(bt,{initialValues:s,onSubmit:function(e){c(k(e)),a(!1)}}):Object(he.jsx)(pt,{profile:s,isOwner:e.isOwner,toEditMode:function(){a(!0)}})]})})},mt=function(e){return Object(he.jsxs)("div",{children:[Object(he.jsx)(ht,{isOwner:e.isOwner}),Object(he.jsx)(it,{})]})},xt=function(e){return{isAuth:e.auth.isAuth}};var St=function(e){return Object(re.b)(xt)((function(t){return t.isAuth?Object(he.jsx)(e,Object(u.a)({},t)):Object(he.jsx)(je.a,{to:"/login"})}))},gt=function(e){Object(le.a)(n,e);var t=Object(de.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;!e&&this.props.isAuth&&((e=this.props.myId)||this.props.history.push("/login")),e&&(this.props.getUserProfile(e),this.props.getUserStatus(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(he.jsx)(mt,{isOwner:!this.props.match.params.userId})}}]),n}(ce.a.Component),vt=Object(a.d)(Object(re.b)((function(e){return{profile:e.profilePage.profile,myId:e.auth.userId,status:e.profilePage.status,isAuth:e.auth.isAuth}}),Object(u.a)({getUserProfile:N,getUserStatus:function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:r=t.sent,n(w.setUserStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:T,savePhoto:C,saveProfile:k},w)),je.g,St)(gt),_t=n(118),Et=n.n(_t),yt=Object(rt.a)(25),Pt=Object(nt.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(he.jsxs)("form",{onSubmit:t,children:[Object(at.c)("Email","email",[rt.b,yt],at.a),Object(at.c)("Password","password",[rt.b,yt],at.a,{type:"password"}),Object(he.jsxs)(ye.a,{children:[Object(at.c)(void 0,"rememberMe",[yt],at.a,{type:"checkbox"}),Object(he.jsx)("span",{className:Et.a.rememberMe,children:"Remember Me"})]}),n&&Object(he.jsx)("div",{children:Object(he.jsx)("span",{className:Et.a.formSummaryError,children:n})}),Object(he.jsx)("div",{children:Object(he.jsx)(we.a,{onClick:t,children:"LOGIN"})})]})})),wt=function(e){var t=Object(re.d)((function(e){return e.auth.isAuth})),n=Object(re.c)();return t?Object(he.jsx)(je.a,{to:"/profile"}):Object(he.jsxs)("div",{children:[Object(he.jsx)("h1",{children:"LOGIN"}),Object(he.jsx)(Pt,{onSubmit:function(e){var t,a,c;n((t=e.email,a=e.password,c=e.rememberMe,function(){var e=Object(i.a)(s.a.mark((function e(n){var i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t,a,c);case 2:(i=e.sent).resultCode===r.Success?n(E()):(o=i.messages.length>0?i.messages[0]:"Some error",n(Object(j.a)("login",{_error:o})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})]})},Nt=n(553),Tt=n(549),Ct=n(554),kt=n(555),It=n(288),Ut=n.n(It),At=n(289),Lt=function(e){var t=Object(re.d)((function(e){return e.auth.isAuth})),n=Object(re.d)((function(e){return e.auth.login})),a=Object(re.d)((function(e){return e.auth.photos.large})),c=Object(re.c)(),o=function(){c(function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:e.sent.data.resultCode===r.Success&&t(v(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),je.a};return Object(he.jsxs)(At.Header,{className:"header",children:[Object(he.jsx)("div",{className:"logo"}),Object(he.jsxs)(ye.a,{children:[Object(he.jsx)(Pe.a,{span:18,children:Object(he.jsx)(Nt.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"]})}),Object(he.jsx)(Pe.a,{span:4,children:Object(he.jsx)("div",{className:Ut.a.loginBlock,children:t?Object(he.jsxs)("div",{children:[Object(he.jsx)(Re.a,{style:{backgroundColor:"#87d068",marginRight:3},src:a||Ee}),Object(he.jsx)("strong",{children:n}),Object(he.jsx)(we.a,{type:"primary",onClick:o,children:"Logout"})]}):Object(he.jsx)(we.a,{type:"primary",onClick:o,children:Object(he.jsx)(fe.b,{to:"/login",children:"LOGIN"})})})})]})]})},Rt=Nt.a.SubMenu,Ft=Tt.a.Content,Mt=Tt.a.Footer,Gt=Tt.a.Sider,Ht=ce.a.lazy((function(){return n.e(4).then(n.bind(null,559))})),Wt=function(e){Object(le.a)(n,e);var t=Object(de.a)(n);function n(){var e;Object(oe.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(e){},e}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialazed?Object(he.jsxs)(fe.a,{children:[Object(he.jsxs)(Tt.a,{children:[Object(he.jsx)(Lt,{}),Object(he.jsx)(Ft,{style:{padding:"0 50px"},children:Object(he.jsxs)(Tt.a,{className:"site-layout-background",style:{padding:"24px 0"},children:[Object(he.jsx)(Gt,{className:"site-layout-background",width:200,children:Object(he.jsxs)(Nt.a,{mode:"inline",style:{height:"100%"},children:[Object(he.jsx)(Rt,{icon:Object(he.jsx)(Ct.a,{}),title:"My Profile",children:Object(he.jsx)(Nt.a.Item,{children:Object(he.jsx)(fe.b,{to:"/profile",children:"Profile"})},"1")},"sub1"),Object(he.jsxs)(Rt,{icon:Object(he.jsx)(kt.a,{}),title:"Community",children:[Object(he.jsx)(Nt.a.Item,{children:Object(he.jsx)(fe.b,{to:"/users",children:"Users"})},"3"),Object(he.jsx)(Nt.a.Item,{children:Object(he.jsx)(fe.b,{to:"/chat",children:"Group Chat"})},"4")]},"sub2")]})}),Object(he.jsxs)(Ft,{style:{padding:"0 24px",minHeight:280},children:[Object(he.jsx)(je.b,{path:"/chat",render:function(){return Object(he.jsxs)(ce.a.Suspense,{fallback:Object(he.jsx)("div",{children:"Loading..."}),children:["  ",Object(he.jsx)(Ht,{})]})}}),Object(he.jsx)(je.b,{path:"/profile/:userId?",render:function(){return Object(he.jsx)(vt,{})}}),Object(he.jsx)(je.b,{path:"/users",render:function(){return Object(he.jsx)(Ye,{})}}),Object(he.jsx)(je.b,{path:"/login",render:function(){return Object(he.jsx)(wt,{})}})]})]})}),Object(he.jsx)(Mt,{style:{textAlign:"center"},children:"Created by SaBaTeuR"})]}),","]}):Object(he.jsx)(me,{})}}]),n}(ce.a.Component),Dt=Object(a.d)(je.g,Object(re.b)((function(e){return{initialazed:e.app.initialazed}}),{initializeApp:function(){return function(e){e(E()).then((function(){e(X())}))}}}))(Wt),Bt=function(){return Object(he.jsx)(fe.a,{children:Object(he.jsx)(re.a,{store:ne,children:Object(he.jsx)(Dt,{})})})};ie.a.render(Object(he.jsx)(Bt,{}),document.getElementById("root"))},76:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t&&t.length>e)return"Max lenght is ".concat(e," symbols")}}},89:function(e,t,n){e.exports={mainWrap:"user_mainWrap__tZ-eI",avatarWrap:"user_avatarWrap__182DF",avatar:"user_avatar__2YDK-",name:"user_name__1WBxp",status:"user_status__1DB__"}}},[[538,1,2]]]);
//# sourceMappingURL=main.1492444b.chunk.js.map