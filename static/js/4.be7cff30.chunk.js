(this.webpackJsonpsamurai_way=this.webpackJsonpsamurai_way||[]).push([[4],{559:function(e,t,c){"use strict";c.r(t);var r=c(96),n=c(292),s=c(0),j=c.n(s),i=c(13),a=c(267),u=c(1),b=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.chat.wsStatus}));return Object(s.useEffect)((function(){return e(Object(a.c)()),function(){e(Object(a.d)())}}),[]),Object(u.jsxs)("div",{children:["error"===t&&Object(u.jsx)("div",{children:"Error"}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d,{}),Object(u.jsx)(O,{})]})]})},d=function(){var e=Object(s.useRef)(null),t=Object(i.d)((function(e){return e.chat.messages})),c=Object(s.useState)(!0),n=Object(r.a)(c,2),j=n[0],a=n[1];return Object(s.useEffect)((function(){var t;j&&(null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}))}),[t]),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{style:{height:"470px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop)<=10?!j&&a(!0):j&&a(!1)},children:[t.map((function(e){return Object(u.jsx)(o,{message:e},e.id)})),Object(u.jsx)("div",{ref:e})]})})},o=j.a.memo((function(e){var t=e.message;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:t.photo,style:{width:"40px"}})," ",Object(u.jsx)("b",{children:t.userName})]}),Object(u.jsx)("div",{children:Object(u.jsx)("span",{children:t.message})}),Object(u.jsx)("hr",{})]})})),O=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),c=t[0],j=t[1],b=Object(i.d)((function(e){return e.chat.wsStatus})),d=Object(i.c)();return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{value:c,onChange:function(e){return j(e.currentTarget.value)},children:"  "})}),Object(u.jsx)("div",{children:Object(u.jsx)(n.a,{disabled:"ready"!==b,onClick:function(){c&&(d(Object(a.b)(c)),j(""))},type:"primary",children:"Send"})})]})};t.default=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(b,{})})}}}]);
//# sourceMappingURL=4.be7cff30.chunk.js.map