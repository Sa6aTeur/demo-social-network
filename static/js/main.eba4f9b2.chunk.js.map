{"version":3,"sources":["components/Navbar/navbar.module.css","components/Dialogs/Message/Message.module.css","components/Profile/Profile.module.css","api/api.js","redux/profile-reducer.js","redux/dialogs-reducer.js","utils/object-helpers.js","redux/users-reduser.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/Navbar.jsx","hoc/withAuthRedirect.js","utils/validators/validators.js","components/Common/FormControls/FormControls.js","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/Common/Paginator/Paginator.jsx","assets/img/userImg.jpg","components/Users/User.jsx","components/Users/Users.jsx","assets/img/preloader.svg","components/Common/Preloader/Preloader.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Profile/MyPosts/Posts/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWhithHook.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","index.js","components/Dialogs/Dilogs.module.css","components/Common/FormControls/FormControls.module.css","components/Dialogs/Dialog/Dialog.module.css","components/Profile/MyPosts/Posts/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Users/Users.module.css","components/Common/Paginator/Paginator.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Header/header.module.css"],"names":["module","exports","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","authAPI","email","password","rememberMe","getStatus","updateStatus","status","put","initialState","posts","id","message","likesCount","newPostText","profile","setUserStatus","type","profileReducer","state","action","newPost","postText","dialogs","name","messages","dialogsReducer","newMessageText","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","totalCount","filter","login","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","initialazed","appReducer","reducers","combineReducers","profilePage","dialogsPage","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Navbar","className","s","nav","href","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","required","value","maxLenghtCreator","maxLenght","length","FormControl","input","meta","touched","error","element","hasError","styles","formControl","children","Textarea","restProps","elemen","Input","createField","placeholder","validators","component","text","Field","validate","Dialog","dialogsItems","dialog","active","Message","maxLength","ReduxAddMessageForm","reduxForm","onSubmit","handleSubmit","Dialogs","dialogsElements","p","messagesElements","m","formData","SendMessageClick","sendMessageCreator","Paginator","totalItemsCount","onCurrentPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","e","selectedPage","paginationItem","User","user","usersPhoto","src","photos","small","userImg","disabled","some","Users","Preloader","preloader","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","setCurrentPage","requestUsers","bind","Post","item","likeCount","ReduxAddPostForm","submitButton","MyPosts","postsElements","postBlock","AddPost","MyPostsContainer","ProfileStatusWithHook","editMode","seteditMode","setstatus","useEffect","statusInput","onChange","currentTarget","autoFocus","onBlur","updateUserStatus","ProfileInfo","descriptionBlock","large","defaultUserImg","Profile","ProfileContainer","match","params","myId","history","getUserProfile","getUserStatus","withRouter","Header","header","loginBlock","logout","HeaderContainer","LoginReduxForm","style","formSummaryError","stopSubmit","_error","App","initializeApp","path","render","DialogsContainer","AppContainer","MainApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.eba4f9b2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__3vdfk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__3a8fH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__1GPsc\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    \"API-KEY\" : \"6ebdb15a-9808-44e7-ab7c-43a71ef8e23d\"\r\n  }\r\n});\r\n\r\nexport const usersAPI = {\r\n\r\n  getUsers(currentPage= 1, pageSize= 3){\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n  },\r\n\r\n  follow(userId){\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n\r\n  unfollow(userId){\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n\r\n  getProfile(userId){\r\n    console.warn(\"Obsolete method. Please use profileAPI \");\r\n    return profileAPI.getProfile(userId);\r\n  }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n  me(){\r\n    return instance.get(`auth/me`);\r\n  },\r\n\r\n  login(email, password, rememberMe = false){\r\n    return instance.post(`auth/login`,{email, password, rememberMe});\r\n  },\r\n\r\n  logout(){\r\n    return instance.delete(`auth/login`);\r\n  }\r\n\r\n \r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n  getProfile(userId){\r\n    return instance.get(`profile/`+ userId);\r\n  },\r\n  getStatus(userId){\r\n    return instance.get(`profile/status/`+ userId);\r\n  },\r\n  updateStatus(status){\r\n    return instance.put(`profile/status`,{status: status});\r\n  },\r\n }","import { profileAPI, usersAPI } from \"../api/api\"\r\n\r\nlet initialState = {\r\n  posts: [{id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n      {id: 2, message: 'Hi, i am fine', likesCount: 10},\r\n      {id: 3, message: 'Super', likesCount: 120},\r\n      {id: 4, message: 'Da', likesCount: 2},\r\n      {id: 5, message: 'Chetko', likesCount: 102},\r\n      {id: 6, message: 'Aga', likesCount: 1},],\r\n      \r\n  newPostText: \"\",\r\n  profile: null,\r\n  status: \"\"\r\n} \r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\nswitch(action.type){\r\n  case 'ADD-POST': \r\n    let newPost={\r\n      id: 5,\r\n      message: action.postText,\r\n      likesCount: 0\r\n      }\r\n      return  {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n      }\r\n\r\n  case 'SET_USER_PROFILE': \r\n    return {\r\n      ...state,\r\n      profile: action.profile,\r\n    }\r\n  case 'SET_USER_STATUS': \r\n    return {\r\n      ...state,\r\n      status: action.status,\r\n    }\r\n  \r\n  default:\r\n    return state; \r\n  }\r\n}\r\n\r\nexport const addPostActionCreator= (postText) => {\r\n  return {\r\n    type: \"ADD-POST\",\r\n    postText\r\n  }\r\n}\r\n///////\r\n\r\nexport const setUserProfile = (profile) => {\r\n  return {\r\n    type : \"SET_USER_PROFILE\",\r\n    profile\r\n  }\r\n}\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) =>{\r\n  let response = await usersAPI.getProfile(userId)\r\n\r\n  dispatch(setUserProfile(response.data))    \r\n \r\n}\r\n\r\n///////\r\n\r\nexport const setUserStatus = (status) => {\r\n  return {\r\n    type : \"SET_USER_STATUS\",\r\n    status\r\n  }\r\n}\r\n   \r\nexport const getUserStatus = (userId) => async (dispatch) =>{\r\n  let response = profileAPI.getStatus(userId)\r\n\r\n  dispatch(setUserStatus(response.data))    \r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) =>{\r\n  let response = await profileAPI.updateStatus(status)\r\n  \r\n  if(response.data.resultCode === 0) {\r\n    dispatch(setUserStatus(status))  \r\n  }  \r\n\r\n}\r\n\r\n\r\n\r\nexport default profileReducer;","let initialState = {\r\n  dialogs: [\r\n    {id: 1, name: \"Vitya\"},\r\n    {id: 2, name: \"Vika\"},\r\n    {id: 3, name: \"Viktot\"},\r\n    {id: 4, name: \"Vasya\"},\r\n    {id: 5, name: \"Vanya\"},\r\n    {id: 6, name: \"Vova\"},\r\n  ],\r\n\r\n  messages: [\r\n    { message: \"Hi\"},\r\n    { message: \"Priv\"},\r\n    { message: \"kak dela\"},\r\n    { message: \"norm\"},\r\n    { message: \"toje\"},\r\n    { message: \"poka\"},\r\n  ]\r\n}\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n  \r\n\r\nswitch(action.type){\r\n  \r\n  case 'SEND-MESSAGE': {\r\n    return {\r\n      ...state,\r\n      messages: [...state.messages,{message: action.newMessageText}],\r\n    }\r\n \r\n  }\r\n  \r\n  default:\r\n    return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageCreator= (newMessageText) => {\r\n  return {\r\n    type: \"SEND-MESSAGE\",\r\n    newMessageText\r\n  }\r\n}\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items,itemId,objPropName,newObjProps) =>{\r\n return items.map(u => {\r\n    if(u[objPropName] === itemId) {\r\n      return{...u, ...newObjProps};\r\n    }\r\n    return u;\r\n  })   \r\n}","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from '../utils/object-helpers'\r\nlet initialState = {\r\nusers: [],\r\ntotalUsersCount: 30,\r\npageSize: 4,\r\ncurrentPage: 1,\r\nisFetching: true,\r\nfollowingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n \r\n  switch(action.type){\r\n\r\n    case 'FOLLOW': \r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\" , {followed: true})   \r\n      }\r\n      \r\n    case 'UNFOLLOW': \r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\" , {followed: false})\r\n      }\r\n\r\n    case 'SET_USERS': \r\n    return {...state, users: [... action.users]}\r\n\r\n    case 'SET_CURRENT_PAGE': \r\n    return {...state, currentPage: action.currentPage}\r\n    \r\n    case 'SET_TOTAL_COUNT': \r\n    return {...state, totalUsersCount: action.totalCount}\r\n\r\n    case 'TOGGLE_IS_FETCHING': \r\n    return {...state, isFetching: action.isFetching}\r\n\r\n    case 'TOGGLE_IS_FOLLOWING_PROGRESS': \r\n    return {...state, followingInProgress: action.isFetching ? [...state.followingInProgress, action.userId ] \r\n                                                             : state.followingInProgress.filter(id => id != action.userId )}\r\n\r\n    default:\r\n      return state; \r\n    }\r\n}\r\n\r\n\r\n// ACTIONS CREATORS\r\n\r\n\r\nexport const followSuccess= (userId) => {\r\n  return {\r\n    type: \"FOLLOW\",\r\n    userId\r\n  }\r\n}\r\n\r\nexport const unfollowSuccess= (userId) => {\r\n  return {\r\n    type: \"UNFOLLOW\",\r\n    userId\r\n  }\r\n}\r\n\r\nexport const setUsers= (users) => {\r\n  return {\r\n    type: \"SET_USERS\",\r\n    users\r\n  }\r\n}\r\n\r\nexport const setCurrentPage= (pageNumber) => {\r\n  return {\r\n    type: \"SET_CURRENT_PAGE\",\r\n    currentPage: pageNumber\r\n  }\r\n}\r\n\r\nexport const setTotalCount= (totalCount) => {\r\n  return {\r\n    type: \"SET_TOTAL_COUNT\",\r\n    totalCount: totalCount\r\n  } \r\n}\r\n\r\nexport const toggleIsFetching= (isFetching) => {\r\n  return {\r\n    type: \"TOGGLE_IS_FETCHING\",\r\n    isFetching\r\n  } \r\n}\r\n\r\nexport const toggleFollowingProgress= (isFetching,userId) => {\r\n  return {\r\n    type: \"TOGGLE_IS_FOLLOWING_PROGRESS\",\r\n    isFetching,\r\n    userId\r\n  } \r\n}\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n  return async (dispatch) =>{\r\n\r\n    dispatch(toggleIsFetching(true));\r\n\r\n    let data = await usersAPI.getUsers(currentPage,pageSize)  \r\n    dispatch(toggleIsFetching(false));  \r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalCount(data.totalCount))\r\n  }\r\n} \r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) =>{\r\n  dispatch(toggleFollowingProgress(true,userId));\r\n  let response = await apiMethod(userId)\r\n\r\n  if(response.data.resultCode===0){\r\n    dispatch(actionCreator(userId))\r\n  } \r\n  dispatch(toggleFollowingProgress(false,userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) =>{\r\n    followUnfollowFlow(dispatch,userId,usersAPI.follow.bind(usersAPI),followSuccess)  \r\n  }\r\n} \r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) =>{\r\n    followUnfollowFlow(dispatch,userId,usersAPI.unfollow.bind(usersAPI),unfollowSuccess)  \r\n  }\r\n}\r\n\r\nexport default usersReducer;","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\n\r\nlet initialState = {\r\n  \r\n  isFetching: false,\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n\r\n  } \r\n  \r\n  const authReducer = (state = initialState, action) => {\r\n   \r\n    switch(action.type){\r\n  \r\n      case 'SET_AUTH_USER':\r\n        return{\r\n          ...state,\r\n          ...action.payload,\r\n          isAuth: action.isAuth   \r\n        }\r\n\r\n      default:\r\n        return state; \r\n      }\r\n  }\r\n   \r\n  // ACTIONS CREATORS\r\n\r\n  export const setAuthUserData = (userId,email,login,isAuth) => ({type: 'SET_AUTH_USER',\r\n  payload:{userId,email,login}, isAuth })\r\n  \r\n  export const getAuthUserData = () => async (dispatch) =>{\r\n    let response = await authAPI.me()\r\n    \r\n    if(response.data.resultCode ===0){    \r\n      let{id,login,email} = response.data.data;\r\n      let isAuth = true;\r\n      dispatch(setAuthUserData(id,email,login,isAuth));       \r\n    }else{ \r\n      let isAuth = false;\r\n      dispatch(setAuthUserData(null,null,null,isAuth));  \r\n    }    \r\n  }\r\n\r\n  export const login = (email,password,rememberMe) => async (dispatch) =>{  \r\n    let response = await authAPI.login(email,password,rememberMe)\r\n\r\n    if(response.data.resultCode ===0){    \r\n      dispatch(getAuthUserData())       \r\n    }else {\r\n      let message = response.data.messages.length > 0 ? response.data.messages[0] \r\n                                                      : \"Some error\"\r\n      dispatch(stopSubmit(\"login\",{_error: message}))  \r\n    }\r\n  }\r\n\r\n  export const logout = () => async (dispatch) =>{\r\n    let response = await authAPI.logout()\r\n      \r\n    if(response.data.resultCode ===0){    \r\n      let isAuth = false;\r\n      dispatch(setAuthUserData(null,null,null,isAuth));      \r\n    }\r\n  }\r\n  \r\n  export default authReducer;","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\n\r\nlet initialState = {\r\n  initialazed: false\r\n  } \r\n  \r\n  const appReducer = (state = initialState, action) => {\r\n   \r\n    switch(action.type){\r\n  \r\n      case 'INITIALAZED_SUCCESS':\r\n        return{\r\n          ...state,\r\n          initialazed: true, \r\n        }\r\n\r\n      default:\r\n        return state; \r\n      }\r\n  }\r\n  // ACTIONS CREATORS\r\n\r\n  export const initialazedSuccess = () => ({type: 'INITIALAZED_SUCCESS'})\r\n   \r\n  export const initializeApp = () => (dispatch) =>{\r\n    dispatch(getAuthUserData()) \r\n    .then(()=>{    \r\n      dispatch(initialazedSuccess())\r\n    })   \r\n  \r\n  }\r\n\r\n  export default appReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reduser\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n profilePage: profileReducer,\r\n dialogsPage: dialogsReducer,\r\n usersPage: usersReducer,\r\n auth: authReducer,\r\n form: formReducer,\r\n app: appReducer,\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware))); \r\n\r\nexport default store;","import React from 'react'\r\nimport s from './navbar.module.css'\r\n\r\nfunction Navbar() {\r\n  return (\r\n    <nav  className={s.nav}>\r\n        <div className='item'> \r\n          <a href=\"/profile\">profile</a>\r\n        </div>\r\n        <div className='item'>\r\n          <a href=\"/dialogs\" >Dialogs</a>\r\n        </div>\r\n        <div className='item'>\r\n          <a href=\"/users\" >Users</a>\r\n        </div>\r\n        <div className='item'>\r\n          <a>Settings</a>\r\n        </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\n\r\nfunction withAuthRedirect(Component) {\r\n\r\n  class RedirectComponent extends React.Component{\r\n    render(){\r\n      if(!this.props.isAuth){\r\n        return  <Redirect to='/login' />\r\n      }\r\n      return <Component {...this.props}/>\r\n    }\r\n  }\r\n\r\n  let mapStateToPropsForRedirect = (state) =>({\r\n    isAuth: state.auth.isAuth\r\n  })\r\n\r\n  let ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n  return ConnectedRedirectComponent\r\n}\r\n\r\nexport default withAuthRedirect\r\n","export const required = value =>{\r\n  if(value) return undefined\r\n  return ('Field is required');\r\n}\r\n\r\nexport const maxLenghtCreator = (maxLenght) => (value) =>{\r\n  if (value){\r\n    if(value.length > maxLenght){\r\n      return `Max lenght is ${maxLenght} symbols`;\r\n    }   \r\n  }\r\n  return undefined\r\n}","import React from 'react'\r\nimport { Field } from 'redux-form';\r\nimport styles from './FormControls.module.css'\r\n\r\n\r\nconst FormControl =({input, meta: {touched,error},element, ...props}) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError && styles.error)}>\r\n      {props.children}\r\n      <div>\r\n        {hasError && <span>{error}</span>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport  const Textarea = (props) => {\r\n  const {input, meta,elemen, ...restProps} = props;\r\n  return (\r\n    <FormControl {...props}><textarea {...input}  {...restProps}/></FormControl>\r\n  )\r\n}\r\n\r\nexport  const Input = (props) => {\r\n  const {input, meta,elemen, ...restProps} = props;\r\n  return (\r\n    <FormControl {...props}><input {...input}  {...restProps}/></FormControl>\r\n  )\r\n}\r\n\r\nexport  const createField = (placeholder=\"\",name,validators,component, props={}, text=\"\") =>\r\n<div><Field \r\nplaceholder={placeholder} \r\nname={name} \r\ncomponent={component} \r\nvalidate={validators}\r\n{...props} /> <span>{text}</span>\r\n</div>  \r\n\r\nexport default Textarea\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './Dialog.module.css'\r\n\r\n\r\nfunction Dialog(props) {\r\n  return (\r\n   \r\n    <div className={s.dialogsItems}>\r\n  \r\n    <div className={s.dialog+' '+s.active}>\r\n            <NavLink to={'/dialogs/'+ props.id}>\r\n               {props.name}\r\n            </NavLink> \r\n    </div>\r\n   \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialog\r\n","import React from 'react'\r\nimport s from './Message.module.css'\r\n\r\nfunction Message(props) {\r\n  \r\n  return (\r\n      <div className={s.message}>\r\n        <p>{props.message}</p>\r\n      </div>  \r\n  )\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLenghtCreator, required } from '../../utils/validators/validators';\r\nimport Textarea from '../Common/FormControls/FormControls';\r\nimport Dialog from './Dialog/Dialog'\r\nimport s from './Dilogs.module.css'\r\nimport Message from './Message/Message'\r\n\r\nconst maxLength = maxLenghtCreator(25);\r\n\r\nfunction Dialogs(props) {\r\n \r\n  let dialogsElements = props.dialogsPage.dialogs.map(p => <Dialog  id={p.id} key={p.id} name={p.name} />)\r\n  let messagesElements = props.dialogsPage.messages.map(m => <Message key={m.id} message={m.message} />)\r\n\r\n  const addNewMessage = (formData) =>{\r\n    props.SendMessageClick(formData.newMessageText);\r\n  }\r\n  \r\n  return (\r\n    <div className={s.dialogs}>\r\n        <div className={s.dialogsElements}>\r\n          {dialogsElements}\r\n        </div>\r\n      <div className={s.messages}>\r\n        <div>{messagesElements}</div>\r\n          <ReduxAddMessageForm onSubmit={addNewMessage}/>\r\n        </div>            \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nlet AddMessageForm = (props) =>{ \r\n  return(\r\n    <form onSubmit={props.handleSubmit}>               \r\n          <div>\r\n            <div className={s.messages}>\r\n              <Field component={Textarea} \r\n                     validate={[ maxLength]}\r\n                     name=\"newMessageText\" \r\n                     placeholder='enter your message'>\r\n              </Field>\r\n            </div>\r\n            <div className={s.messages}>\r\n              <button > Send </button>\r\n            </div>\r\n          </div>     \r\n    </form>\r\n  )\r\n}\r\n\r\nconst ReduxAddMessageForm = reduxForm({ form: \"message\"})(AddMessageForm)\r\n\r\nexport default Dialogs\r\n","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\r\nimport { sendMessageCreator} from '../../redux/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\n\r\n\r\nlet mapStateToProps =(state) =>{\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps =(dispatch) =>{\r\n  return {\r\n    SendMessageClick: (newMessageText) => {\r\n      dispatch(sendMessageCreator(newMessageText))\r\n    }\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect( mapStateToProps, mapDispatchToProps ),\r\n  withAuthRedirect\r\n)(Dialogs)\r\n","import React, { useState } from 'react'\r\nimport s from './Paginator.module.css'\r\n\r\n\r\n\r\nfunction Paginator({totalItemsCount,pageSize,currentPage, onCurrentPageChanged,portionSize=10}) {\r\n \r\n  let pagesCount = Math.ceil(totalItemsCount/pageSize);\r\n  \r\n  let pages =[]\r\n  for(let i=1; i<=pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  let portionCount = Math.ceil(pagesCount/portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber-1)*portionSize+1 ;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n  debugger\r\n\r\n  return (\r\n      <div>\r\n        \r\n        <div>\r\n          {portionNumber>1 && <button onClick={()=>{setPortionNumber(portionNumber-1)}} >PREV</button> } \r\n\r\n          { pages.filter(p => p>=leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                    .map(p =>{\r\n                        return <span key={p} onClick={(e) => onCurrentPageChanged(p) } className={currentPage === p ? s.selectedPage :s.paginationItem}>{p}</span>\r\n                      })\r\n          }\r\n              \r\n         {portionCount>portionNumber && <button onClick={()=>{setPortionNumber(portionNumber+1)}} >NEXT</button> }       \r\n        </div>\r\n       \r\n\r\n\r\n      </div>\r\n    \r\n    \r\n  )\r\n}\r\n\r\nexport default Paginator\r\n","export default __webpack_public_path__ + \"static/media/userImg.1ab4050b.jpg\";","import React from 'react'\r\nimport s from './Users.module.css'\r\nimport userImg from '../../assets/img/userImg.jpg'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nfunction User({user, followingInProgress, unfollow, follow}) {\r\n  \r\n  return (\r\n      \r\n      <div>\r\n      \r\n         <div key ={user.id}>\r\n            <span>\r\n              <div>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                  <img className={s.usersPhoto} src={user.photos.small != null ? user.photos.small : userImg } />\r\n                </NavLink>\r\n              </div>\r\n              <div>\r\n                {user.followed \r\n                ? <button disabled={followingInProgress.some(id=>id===user.id)} onClick={() =>{\r\n                    unfollow(user.id) }}>UNFOLLOW</button>\r\n\r\n                : <button disabled={followingInProgress.some(id=>id===user.id)} onClick={() =>{\r\n                    follow(user.id)}}>FOLLOW</button>}\r\n              </div>\r\n            </span>\r\n\r\n            <span>\r\n              <span>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n              </span>\r\n              <span>\r\n                {/* <div>{u.location.country}</div>\r\n                <div>{u.location.city}</div> */}\r\n              </span>\r\n            </span>\r\n\r\n           </div>\r\n      \r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\nimport s from './Users.module.css'\r\nimport Paginator from '../Common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\n\r\nfunction Users({currentPage,onCurrentPageChanged,totalUsersCount,pageSize, ...props}) {\r\n   \r\n  return (\r\n      \r\n      <div>\r\n      <Paginator currentPage={currentPage} onCurrentPageChanged={onCurrentPageChanged} totalItemsCount={totalUsersCount}  pageSize={pageSize} />\r\n      {\r\n        props.users.map(u => <User followingInProgress={props.followingInProgress} \r\n                                   user={u} \r\n                                   key={u.id}\r\n                                   unfollow={props.unfollow}\r\n                                   follow={props.follow}/>)\r\n      }\r\n    </div>  \r\n  )\r\n}\r\n\r\nexport default Users\r\n","export default __webpack_public_path__ + \"static/media/preloader.54f8b542.svg\";","import React from 'react'\r\nimport preloader from '../../../assets/img/preloader.svg'\r\n\r\nfunction Preloader() {\r\n  return (\r\n    <div>\r\n        <img  src= {preloader}/> \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader\r\n","export const getUsers = (state) =>{\r\n  return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state) =>{\r\n  return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) =>{\r\n  return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) =>{\r\n  return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) =>{\r\n  return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) =>{\r\n  return state.usersPage.followingInProgress;\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { followSuccess, unfollowSuccess, setCurrentPage, toggleFollowingProgress, requestUsers, unfollow, follow } from '../../redux/users-reduser';\r\nimport Users from './Users';\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport {getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers} from '../../redux/users-selectors'\r\nimport { compose } from 'redux';\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component{\r\n\r\n  componentDidMount(){  \r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onCurrentPageChanged = (pageNumber) =>{  \r\n     this.props.setCurrentPage(pageNumber) \r\n     this.props.requestUsers(pageNumber, this.props.pageSize);\r\n  }\r\n\r\n  render(){ \r\n    return <>\r\n                {this.props.isFetching ? <Preloader/> : null}\r\n                <Users totalUsersCount={this.props.totalUsersCount}\r\n                  pageSize={this.props.pageSize}\r\n                  currentPage={this.props.currentPage}\r\n                  onCurrentPageChanged={this.onCurrentPageChanged}\r\n                  users={this.props.users}\r\n                  follow={this.props.follow}\r\n                  unfollow={this.props.unfollow}\r\n                  followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => { \r\n  return{\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  //withAuthRedirect,\r\n  connect( mapStateToProps, {\r\n    followSuccess,\r\n    unfollowSuccess,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    requestUsers, \r\n    unfollow,\r\n    follow})\r\n)(UsersContainer)","import React from 'react'\r\nimport s from './Post.module.css'\r\nfunction Post(props) {\r\n  return (\r\n    <div className={s.item}>\r\n      <img src =\"https://avatars.mds.yandex.net/get-zen_doc/2811422/pub_5ed178f6932a8736ef348802_5ed179ab095c4a0a976f5a62/scale_1200\"/>\r\n      <p>{props.message}</p> <p className={s.likeCount}>likeCount <span className={s.likeCount} >{props.likesCount}</span></p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post\r\n","import React from 'react'\r\nimport Post from './Posts/Post'\r\nimport s from './MyPosts.module.css'\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLenghtCreator, required } from '../../../utils/validators/validators';\r\nimport { Input, Textarea } from '../../Common/FormControls/FormControls';\r\n\r\n\r\nconst maxLenght = maxLenghtCreator(25);\r\n\r\nfunction MyPosts(props) {\r\n\r\n  let postsElements = props.posts.map(p => <Post message={p.message} likesCount={p.likesCount}/>)\r\n\r\n  const addPost = (formData) =>{\r\n    props.AddPost(formData.postText);\r\n  }\r\n\r\n  return (  \r\n    <div className={s.postBlock}>\r\n      <h3>MY POSTS</h3>  \r\n      <ReduxAddPostForm onSubmit={addPost}/>    \r\n      <div>\r\n        {postsElements}\r\n      </div>\r\n    </div>  \r\n  )\r\n}\r\n\r\nconst AddPostForm = (props) =>{\r\n  return(\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field \r\n      component={Textarea} \r\n      name=\"postText\" \r\n      validate={[maxLenght]} \r\n      placeholder=\"Add Post\">\r\n      </Field>\r\n      <button className={s.submitButton}>Add post</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst ReduxAddPostForm = reduxForm({form: \"addPost\"})(AddPostForm)\r\n\r\nexport default MyPosts\r\n","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\r\n\r\nimport MyPosts from './MyPosts';\r\n\r\nlet mapStateToProps =(state) =>{\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps =(dispatch) =>{\r\n  return {\r\n    AddPost: (text) => {\r\n    dispatch(addPostActionCreator(text));\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect( mapStateToProps, mapDispatchToProps )(MyPosts);\r\n\r\n\r\nexport default MyPostsContainer\r\n","import React, { useState, useEffect } from 'react'\r\nimport s from './ProfileStatus.module.css'\r\n\r\nconst ProfileStatusWithHook = (props) => {\r\n\r\n    const [editMode, seteditMode] = useState(false)\r\n    const [status, setstatus] = useState(props.status)\r\n    \r\n    useEffect(()=> {\r\n      setstatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () =>{\r\n      seteditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () =>{\r\n      seteditMode(false);\r\n      props.updateUserStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) =>{\r\n      setstatus(e.currentTarget.value);  \r\n    }\r\n\r\n    return(\r\n      <div>\r\n        { !editMode &&     \r\n          <div>\r\n            <span className={s.status} onClick={activateEditMode}>{status? status : \"Your status\"}</span>\r\n          </div>          \r\n        }\r\n        {editMode &&\r\n          <div>\r\n            <input className={s.statusInput} onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}/>\r\n          </div>\r\n        }\r\n    </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default ProfileStatusWithHook\r\n","import React from 'react'\r\nimport s from './ProfileStatus.module.css'\r\nclass ProfileStatus extends React.Component {\r\n  \r\n  state ={\r\n    editMode: false,\r\n    status: this.props.status \r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(prevProps.status !== this.props.status){\r\n      this.setState({\r\n        status: this.props.status\r\n      })\r\n    }\r\n  }\r\n\r\n  activateEditMode = () =>{\r\n    this.setState({\r\n      editMode: true\r\n    })\r\n  }\r\n  deactivateEditMode = () =>{\r\n    this.setState({\r\n      editMode: false\r\n    })\r\n    this.props.updateUserStatus(this.state.status)\r\n  }\r\n\r\n  onStatusChange = (e) =>{ \r\n    this.setState({ status: e.currentTarget.value })\r\n  }\r\n  \r\n  render() {\r\n    return(\r\n      <div>\r\n        {!this.state.editMode &&        \r\n          <div>\r\n            <span className={s.status} onClick={ this.activateEditMode } >{this.props.status ? this.props.status : \"Your Status\"}</span>\r\n          </div>          \r\n        }\r\n        {this.state.editMode &&\r\n          <div>\r\n            <input className={s.statusInput} onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode} value={this.state.status}/>\r\n          </div>\r\n        }\r\n    </div>\r\n    )\r\n    \r\n  }\r\n}\r\n\r\nexport default ProfileStatus\r\n","import React from 'react'\r\nimport Preloader from '../../Common/Preloader/Preloader'\r\nimport s from './ProfileInfo.module.css'\r\nimport ProfileStatus from './ProfileStatus'\r\nimport defaultUserImg from '../../../assets/img/userImg.jpg'\r\nimport ProfileStatusWithHook from './ProfileStatusWhithHook'\r\n\r\nfunction ProfileInfo(props) {\r\n\r\n  \r\n  if(!props.profile){\r\n    return <Preloader/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    \r\n      <div className={s.descriptionBlock}>\r\n        { props.profile.photos.large ? <img className ={s.userImg}  src={props.profile.photos.large} /> \r\n                                     : <img className ={s.userImg}  src={defaultUserImg} />}\r\n\r\n        <ProfileStatusWithHook status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo\r\n","import React from 'react'\r\nimport MyPosts from './MyPosts/MyPosts'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport s from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\n\r\nfunction Profile(props) {\r\n\r\n  return (\r\n    <div >\r\n   \r\n      <ProfileInfo profile={props.profile} status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n\r\n      <MyPostsContainer />\r\n\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\nimport Profile from './Profile'\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfile, getUserStatus, setUserStatus, updateUserStatus} from '../../redux/profile-reducer';\r\nimport { withRouter } from 'react-router';\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n  \r\n  componentDidMount(){ \r\n    let userId = this.props.match.params.userId;\r\n    if(!userId && this.props.isAuth){\r\n      userId= this.props.myId;\r\n      if(!userId){\r\n        this.props.history.push(\"/login\")\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getUserStatus(userId);\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateUserStatus={this.props.updateUserStatus}/>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) =>({\r\n  profile: state.profilePage.profile,\r\n  myId: state.auth.userId,\r\n  status: state.profilePage.status,\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {getUserProfile,setUserStatus,getUserStatus,updateUserStatus}),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer)","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from'./header.module.css'\r\nimport { Redirect } from 'react-router';\r\n\r\nfunction Header(props) {\r\n \r\n  const onLogoutClick = () => {\r\n    props.logout();\r\n    <Redirect to=\"/login\"/>\r\n  }\r\n\r\n  return ( \r\n      <header className={s.header}>\r\n        <img src=\"https://img2.freepng.ru/20180516/ykw/kisspng-linkedin-computer-icons-social-media-social-networ-5afbfe51011c33.8921611715264640810046.jpg\"></img>\r\n        <div className={s.loginBlock}>\r\n          {props.isAuth \r\n            ? <div><strong>{props.login}</strong> <button onClick={onLogoutClick} >LOGOUT</button> </div>\r\n            : <NavLink to={'/login'}>LOGIN</NavLink>}    \r\n        </div>\r\n      </header>   \r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { getAuthUserData, logout } from '../../redux/auth-reducer';\r\nimport Header from './Header';\r\n\r\n\r\nclass HeaderContainer extends React.Component{\r\n\r\n  render(){ \r\n    return <>\r\n              <Header {...this.props}/>  \r\n            </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps= (state) =>({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { login, logout } from '../../redux/auth-reducer';\r\nimport { maxLenghtCreator, required } from '../../utils/validators/validators'\r\nimport { Input,createField } from '../Common/FormControls/FormControls'\r\nimport style from '../Common/FormControls/FormControls.module.css'\r\nconst maxLenght = maxLenghtCreator(25);\r\n\r\nconst LoginForm = ({handleSubmit, error}) =>{\r\n  return (\r\n      <form onSubmit={handleSubmit}>\r\n        {createField(\"Email\",\"email\",[required,maxLenght],Input)}\r\n\r\n        {createField(\"Password\",\"password\",[required,maxLenght],Input,{type:\"password\"})}\r\n\r\n        <div>{createField(null,\"rememberMe\",[maxLenght],Input,{type:\"checkbox\"})} Remember Me</div>\r\n\r\n        {error && \r\n        <div>\r\n          <span className={style.formSummaryError} >{error}</span>\r\n        </div> }\r\n\r\n        <div><button>LOGIN</button></div>\r\n      </form>\r\n  )\r\n}\r\nconst LoginReduxForm = reduxForm({ form:'login', })(LoginForm)\r\n\r\nfunction Login(props) {\r\n  const onSubmit = (formData) =>{\r\n      props.login(formData.email, formData.password, formData.rememberMe)\r\n  }\r\n\r\n  if (props.isAuth){\r\n    return <Redirect to=\"/profile\"/>\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps =(state) =>({\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect(mapStateToProps,{login})(Login)\r\n","import { Route, withRouter } from 'react-router';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport { BrowserRouter} from \"react-router-dom\";\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport UsersContainer from './components/Users/UsersContainer';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport LoginPage from './components/Login/Login';\nimport React from 'react';\nimport { connect, Provider } from 'react-redux';\nimport { initializeApp } from './redux/app-reducer';\nimport Preloader from './components/Common/Preloader/Preloader';\nimport { compose } from 'redux';\nimport store from './redux/redux-store';\n \n\nclass App extends React.Component {\n  \n  componentDidMount(){\n    this.props.initializeApp(); \n  }\n\n  render(){\n\n    if(!this.props.initialazed){\n      return <Preloader/>\n    }\n    \n\n    return (\n      \n            <BrowserRouter>\n            <div className='app-wrapper'>\n              \n              <HeaderContainer/>\n            \n              <Navbar/>\n        \n              <div className='app-wrapper-content'>\n                <Route path=\"/dialogs\" render={ () => <DialogsContainer /> }/>\n                <Route path=\"/profile/:userId?\" render={ () => <ProfileContainer />}/>\n                <Route path=\"/users\" render={ () => <UsersContainer/>}/>\n                <Route path=\"/login\" render={ () => <LoginPage/>}/>\n              </div>\n        \n            </div>\n            </BrowserRouter>\n          \n    );\n  }\n  \n}\n\nconst mapStateToProps = (state) => ({\n  initialazed: state.app.initialazed\n})\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps,{initializeApp})\n  )(App)\n\nconst MainApp = (props) =>{\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n                <AppContainer />\n              </Provider> \n    </BrowserRouter>\n  )           \n}\n\nexport default MainApp;\n","import store from './redux/redux-store';\nimport { Provider } from 'react-redux';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\n\n\n\n\n  ReactDOM.render(\n    <MainApp/>\n      ,\n    document.getElementById('root')\n  );\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dilogs_dialogs__30XMu\",\"dialogsElements\":\"Dilogs_dialogsElements__3XlYR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__3E5O0\",\"error\":\"FormControls_error__1nWQP\",\"formSummaryError\":\"FormControls_formSummaryError__fFA4i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialog_dialogs__3vjwz\",\"dialogsItems\":\"Dialog_dialogsItems__3Zr67\",\"active\":\"Dialog_active__18DnR\",\"messages\":\"Dialog_messages__1ylmg\",\"message\":\"Dialog_message__3csPz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__hs_ML\",\"likeCount\":\"Post_likeCount__3JT-X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topImage\":\"ProfileInfo_topImage__24OjZ\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3ooU8\",\"userImg\":\"ProfileInfo_userImg__340pV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__1BTws\",\"selectedPage\":\"Users_selectedPage__3oa6R\",\"paginationItem\":\"Users_paginationItem__3yzEG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Paginator_usersPhoto__2mpHi\",\"selectedPage\":\"Paginator_selectedPage__1DehD\",\"paginationItem\":\"Paginator_paginationItem__2SiqT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"MyPosts_content__2wELq\",\"postBlock\":\"MyPosts_postBlock__3dBuz\",\"submitButton\":\"MyPosts_submitButton__1Nl6B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__29HNV\",\"loginBlock\":\"header_loginBlock__1QTRy\"};"],"sourceRoot":""}